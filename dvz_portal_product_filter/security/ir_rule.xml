<odoo>
    <record id="portal_product_filter_rule" model="ir.rule">
        <field name="name">Portal Product Filter</field>
        <field name="model_id" ref="product.model_product_template"/>
        <field name="groups" eval="[(4, ref('base.group_portal'))]"/>
        <field name="domain_force">[('allowed_customer_ids', 'in', [user.partner_id.id])]</field>
    </record>
</odoo>
